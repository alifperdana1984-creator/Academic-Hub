<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student Satisfaction Survey Dashboard - Eduversal Indonesia</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;charset=utf-8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='50' fill='%230a0a1a'/><polygon points='10,45 50,65 50,70 10,50' fill='%234e3db8'/><polygon points='90,45 50,65 50,70 90,50' fill='%235a4bd1'/><polygon points='50,25 90,45 50,65 10,45' fill='%236c5ce7'/><line x1='85' y1='46' x2='85' y2='68' stroke='%23ffd93d' stroke-width='4' stroke-linecap='round'/><circle cx='85' cy='72' r='3.5' fill='%23ffd93d'/></svg>">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="firebase-config.js"></script>
      <script>
      if (!window.ENV) window.ENV = {
        FIREBASE_API_KEY: "__FIREBASE_API_KEY__",
        FIREBASE_AUTH_DOMAIN: "__FIREBASE_AUTH_DOMAIN__",
        FIREBASE_PROJECT_ID: "__FIREBASE_PROJECT_ID__",
        FIREBASE_STORAGE_BUCKET: "__FIREBASE_STORAGE_BUCKET__",
        FIREBASE_MESSAGING_SENDER_ID: "__FIREBASE_MESSAGING_SENDER_ID__",
        FIREBASE_APP_ID: "__FIREBASE_APP_ID__",
      };
    </script>
    <script type="module" src="auth-guard.js"></script>
<style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 20px;
        color: #333;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        overflow: hidden;
      }

      .header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 40px;
        text-align: center;
      }

      .header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
      }

      .header p {
        font-size: 1.2em;
        opacity: 0.95;
      }

      .participation-banner {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
        padding: 25px;
        text-align: center;
        font-size: 1.1em;
        font-weight: bold;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }

      .participation-banner span {
        font-size: 2em;
        display: block;
        margin-top: 10px;
      }

      .content {
        padding: 30px;
      }

      .filters {
        background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 30px;
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
        align-items: center;
      }

      .filter-group {
        display: flex;
        flex-direction: column;
        gap: 5px;
      }

      .filter-group label {
        font-weight: bold;
        font-size: 0.9em;
        color: #555;
      }

      .filter-group select {
        padding: 10px 15px;
        border: 2px solid #ddd;
        border-radius: 8px;
        font-size: 1em;
        background: white;
        cursor: pointer;
        transition: all 0.3s;
      }

      .filter-group select:hover {
        border-color: #667eea;
      }

      .accordion {
        margin-bottom: 15px;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .accordion-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 20px;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        transition: all 0.3s;
        font-size: 1.3em;
        font-weight: bold;
      }

      .accordion-header:hover {
        background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
      }

      .accordion-header .icon {
        font-size: 1.2em;
        transition: transform 0.3s;
      }

      .accordion-header.active .icon {
        transform: rotate(180deg);
      }

      .accordion-content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.4s ease;
        background: #f8f9fa;
      }

      .accordion-content.active {
        max-height: 800px;
        overflow-y: auto;
      }

      /* Custom Scrollbar */
      .accordion-content::-webkit-scrollbar {
        width: 10px;
      }

      .accordion-content::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 10px;
      }

      .accordion-content::-webkit-scrollbar-thumb {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 10px;
      }

      .accordion-content::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
      }

      .accordion-body {
        padding: 25px;
        max-height: 750px;
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      .stat-card {
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        padding: 25px;
        border-radius: 15px;
        text-align: center;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s;
      }

      .stat-card:hover {
        transform: translateY(-5px);
      }

      .stat-card h3 {
        color: #555;
        font-size: 0.9em;
        margin-bottom: 10px;
        text-transform: uppercase;
      }

      .stat-card .value {
        font-size: 2.5em;
        font-weight: bold;
        color: #667eea;
      }

      .stat-card .subtext {
        font-size: 0.9em;
        color: #777;
        margin-top: 5px;
      }

      .heatmap-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
        background: white;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .heatmap-table th {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 15px;
        text-align: left;
        font-weight: bold;
        position: sticky;
        top: 0;
        z-index: 10;
      }

      .heatmap-table td {
        padding: 12px 15px;
        border-bottom: 1px solid #eee;
      }

      .heatmap-table tr:hover {
        background: #f5f7fa;
      }

      .school-name {
        font-weight: bold;
        color: #333;
      }

      .score-cell {
        text-align: center;
        font-weight: bold;
        padding: 10px;
        border-radius: 5px;
      }

      .score-high {
        background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        color: white;
      }

      .score-medium {
        background: linear-gradient(135deg, #f2994a 0%, #f2c94c 100%);
        color: white;
      }

      .score-low {
        background: linear-gradient(135deg, #eb3349 0%, #f45c43 100%);
        color: white;
      }

      .chart-container {
        background: white;
        padding: 25px;
        border-radius: 10px;
        margin-top: 20px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .chart-title {
        font-size: 1.3em;
        font-weight: bold;
        color: #333;
        margin-bottom: 20px;
        text-align: center;
      }

      .feedback-section {
        margin-top: 20px;
      }

      .feedback-category {
        background: white;
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 20px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .feedback-category h3 {
        color: #667eea;
        margin-bottom: 15px;
        font-size: 1.2em;
        border-bottom: 2px solid #667eea;
        padding-bottom: 10px;
      }

      .feedback-item {
        background: #f8f9fa;
        padding: 15px;
        border-left: 4px solid #667eea;
        margin-bottom: 15px;
        border-radius: 5px;
      }

      .feedback-meta {
        font-size: 0.85em;
        color: #777;
        margin-bottom: 8px;
        font-weight: bold;
      }

      .feedback-text {
        color: #333;
        line-height: 1.6;
      }

      .feedback-translation {
        color: #555;
        font-style: italic;
        margin-top: 8px;
        padding-top: 8px;
        border-top: 1px dashed #ddd;
      }

      .action-items {
        background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        padding: 25px;
        border-radius: 10px;
        color: white;
      }

      .action-items h3 {
        font-size: 1.4em;
        margin-bottom: 20px;
      }

      .action-item {
        background: rgba(255, 255, 255, 0.9);
        color: #333;
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 15px;
        border-left: 5px solid #f45c43;
      }

      .action-item strong {
        color: #f45c43;
        display: block;
        margin-bottom: 5px;
      }

      .links-section {
        background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        padding: 25px;
        border-radius: 10px;
        margin-top: 30px;
        text-align: center;
      }

      .links-section h3 {
        margin-bottom: 20px;
        color: #333;
      }

      .links-section a {
        display: inline-block;
        background: white;
        color: #667eea;
        padding: 12px 30px;
        border-radius: 25px;
        text-decoration: none;
        margin: 10px;
        font-weight: bold;
        transition: all 0.3s;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }

      .links-section a:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
      }

      .level-comparison {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }

      .level-card {
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .level-card h4 {
        color: #667eea;
        margin-bottom: 15px;
        font-size: 1.1em;
        text-align: center;
      }

      .level-stat {
        display: flex;
        justify-content: space-between;
        padding: 8px 0;
        border-bottom: 1px solid #eee;
      }

      .level-stat:last-child {
        border-bottom: none;
      }

      @media (max-width: 768px) {
        .header h1 {
          font-size: 1.8em;
        }

        .stats-grid {
          grid-template-columns: 1fr;
        }

        .filters {
          flex-direction: column;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>üéì Student Satisfaction Survey Dashboard</h1>
        <p>Academic Year 2025-2026 | Semester I</p>
        <p>Eduversal Indonesia School Network</p>
        <p style="margin-top: 15px">
          <a
            href="https://docs.google.com/spreadsheets/d/1rh7lhzwOqf15wQ7TH0YZcyzWO1ZruPi8KjR72C7cGto/edit?usp=sharing"
            target="_blank"
            style="
              display: inline-block;
              background: white;
              color: #667eea;
              padding: 12px 30px;
              border-radius: 25px;
              text-decoration: none;
              font-weight: bold;
              transition: all 0.3s;
              box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            "
          >
            üìä View Responses
          </a>
        </p>
      </div>

      <div class="participation-banner">
        üìä Survey Participation Overview
        <span
          >187 Students Responded | 9 out of 14 Schools Participating (64.3%
          Participation Rate)</span
        >
      </div>

      <div class="content">
        <!-- Filters -->
        <div class="filters">
          <div class="filter-group">
            <label>Filter by School:</label>
            <select id="schoolFilter">
              <option value="all">All Schools</option>
            </select>
          </div>
          <div class="filter-group">
            <label>Filter by Level:</label>
            <select id="levelFilter">
              <option value="all">All Levels</option>
              <option value="Primary (SD)">Primary (SD)</option>
              <option value="Junior High (SMP)">Junior High (SMP)</option>
              <option value="High School (SMA)">High School (SMA)</option>
            </select>
          </div>
          <div class="filter-group">
            <label>Filter by Grade:</label>
            <select id="gradeFilter">
              <option value="all">All Grades</option>
            </select>
          </div>
        </div>

        <!-- Executive Summary -->
        <div class="accordion">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <span>üìà Executive Summary</span>
            <span class="icon">‚ñº</span>
          </div>
          <div class="accordion-content">
            <div class="accordion-body">
              <div class="stats-grid" id="executiveSummary">
                <!-- Will be populated by JavaScript -->
              </div>
            </div>
          </div>
        </div>

        <!-- School Performance Comparison -->
        <div class="accordion">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <span>üè´ School Performance Comparison Heatmap</span>
            <span class="icon">‚ñº</span>
          </div>
          <div class="accordion-content">
            <div class="accordion-body">
              <div style="overflow-x: auto">
                <table class="heatmap-table" id="heatmapTable">
                  <!-- Will be populated by JavaScript -->
                </table>
              </div>
            </div>
          </div>
        </div>

        <!-- Domain Analysis -->
        <div class="accordion">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <span>üìä Domain Performance Analysis</span>
            <span class="icon">‚ñº</span>
          </div>
          <div class="accordion-content">
            <div class="accordion-body">
              <div class="chart-container">
                <div class="chart-title">Average Satisfaction by Domain</div>
                <canvas id="domainChart"></canvas>
              </div>
            </div>
          </div>
        </div>

        <!-- Radar Chart -->
        <div class="accordion">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <span>üéØ Top 5 Schools Comparison (Radar Chart)</span>
            <span class="icon">‚ñº</span>
          </div>
          <div class="accordion-content">
            <div class="accordion-body">
              <div class="chart-container">
                <div class="chart-title">
                  Multi-Dimensional Performance Overview
                </div>
                <canvas id="radarChart"></canvas>
              </div>
            </div>
          </div>
        </div>

        <!-- Grade Level Comparison -->
        <div class="accordion">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <span>üéì Level Comparison (Primary vs Secondary)</span>
            <span class="icon">‚ñº</span>
          </div>
          <div class="accordion-content">
            <div class="accordion-body">
              <div class="level-comparison" id="levelComparison">
                <!-- Will be populated by JavaScript -->
              </div>
            </div>
          </div>
        </div>

        <!-- Student Feedback -->
        <div class="accordion">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <span>üí¨ Student Feedback & Comments</span>
            <span class="icon">‚ñº</span>
          </div>
          <div class="accordion-content">
            <div class="accordion-body">
              <div class="feedback-section" id="feedbackSection">
                <!-- Will be populated by JavaScript -->
              </div>
            </div>
          </div>
        </div>

        <!-- Action Items -->
        <div class="accordion">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <span>‚ö° Priority Action Items</span>
            <span class="icon">‚ñº</span>
          </div>
          <div class="accordion-content">
            <div class="accordion-body">
              <div class="action-items" id="actionItems">
                <!-- Will be populated by JavaScript -->
              </div>
            </div>
          </div>
        </div>

        <!-- Links -->
        <div class="links-section">
          <h3>üìé Access Survey Resources</h3>
          <a href="https://forms.gle/HKPEJBDEH2jM8TLLA" target="_blank"
            >üìù View Survey Form</a
          >
          <a
            href="https://docs.google.com/spreadsheets/d/1rh7lhzwOqf15wQ7TH0YZcyzWO1ZruPi8KjR72C7cGto/edit?usp=sharing"
            target="_blank"
            >üìä View Response Data</a
          >
        </div>
      </div>
    </div>

    <script>
      // Data structure (will be populated from analysis)
      const surveyData = {
        schools: {
          "TNA Fatih Bilingual School": {
            total_responses: 41,
            domains: {
              "Teaching and Learning": 4.12,
              "Interpersonal Relationships": 4.08,
              "School Safety": 4.15,
              "Facilities and Physical Environment": 3.92,
              "Communication and Information": 4.05,
              "Extracurricular Activities": 4.01,
              "Academic Support": 3.98,
              "Technology and Digital Learning": 4.1,
            },
            overall_rating: 4.02,
            recommendation_yes: 82.9,
          },
          "Fatih Bilingual School": {
            total_responses: 40,
            domains: {
              "Teaching and Learning": 4.05,
              "Interpersonal Relationships": 4.01,
              "School Safety": 4.08,
              "Facilities and Physical Environment": 3.88,
              "Communication and Information": 4.0,
              "Extracurricular Activities": 3.95,
              "Academic Support": 3.92,
              "Technology and Digital Learning": 4.05,
            },
            overall_rating: 3.98,
            recommendation_yes: 80.0,
          },
          "Cahaya Rancamaya": {
            total_responses: 23,
            domains: {
              "Teaching and Learning": 4.18,
              "Interpersonal Relationships": 4.15,
              "School Safety": 4.2,
              "Facilities and Physical Environment": 4.02,
              "Communication and Information": 4.12,
              "Extracurricular Activities": 4.08,
              "Academic Support": 4.05,
              "Technology and Digital Learning": 4.15,
            },
            overall_rating: 4.15,
            recommendation_yes: 87.0,
          },
          "Kharisma Bangsa School": {
            total_responses: 15,
            domains: {
              "Teaching and Learning": 3.95,
              "Interpersonal Relationships": 3.92,
              "School Safety": 4.0,
              "Facilities and Physical Environment": 3.75,
              "Communication and Information": 3.88,
              "Extracurricular Activities": 3.82,
              "Academic Support": 3.8,
              "Technology and Digital Learning": 3.92,
            },
            overall_rating: 3.88,
            recommendation_yes: 73.3,
          },
          "Mega Islamic Boarding School": {
            total_responses: 15,
            domains: {
              "Teaching and Learning": 4.08,
              "Interpersonal Relationships": 4.05,
              "School Safety": 4.12,
              "Facilities and Physical Environment": 3.85,
              "Communication and Information": 3.98,
              "Extracurricular Activities": 3.92,
              "Academic Support": 3.95,
              "Technology and Digital Learning": 4.02,
            },
            overall_rating: 4.0,
            recommendation_yes: 80.0,
          },
          "Pribadi Bandung School": {
            total_responses: 12,
            domains: {
              "Teaching and Learning": 4.02,
              "Interpersonal Relationships": 3.98,
              "School Safety": 4.05,
              "Facilities and Physical Environment": 3.82,
              "Communication and Information": 3.95,
              "Extracurricular Activities": 3.88,
              "Academic Support": 3.9,
              "Technology and Digital Learning": 3.98,
            },
            overall_rating: 3.95,
            recommendation_yes: 75.0,
          },
          "Kesatuan Bangsa School": {
            total_responses: 8,
            domains: {
              "Teaching and Learning": 3.88,
              "Interpersonal Relationships": 3.85,
              "School Safety": 3.92,
              "Facilities and Physical Environment": 3.65,
              "Communication and Information": 3.8,
              "Extracurricular Activities": 3.75,
              "Academic Support": 3.72,
              "Technology and Digital Learning": 3.85,
            },
            overall_rating: 3.78,
            recommendation_yes: 62.5,
          },
          "Prestige Bilingual School": {
            total_responses: 2,
            domains: {
              "Teaching and Learning": 4.25,
              "Interpersonal Relationships": 4.2,
              "School Safety": 4.28,
              "Facilities and Physical Environment": 4.1,
              "Communication and Information": 4.18,
              "Extracurricular Activities": 4.12,
              "Academic Support": 4.15,
              "Technology and Digital Learning": 4.22,
            },
            overall_rating: 4.22,
            recommendation_yes: 100.0,
          },
          "Pribadi School": {
            total_responses: 1,
            domains: {
              "Teaching and Learning": 4.0,
              "Interpersonal Relationships": 3.95,
              "School Safety": 4.05,
              "Facilities and Physical Environment": 3.8,
              "Communication and Information": 3.9,
              "Extracurricular Activities": 3.85,
              "Academic Support": 3.88,
              "Technology and Digital Learning": 3.95,
            },
            overall_rating: 3.92,
            recommendation_yes: 100.0,
          },
        },
        levelStats: {
          "Primary (SD)": {
            responses: 37,
            overall_rating: 4.08,
            domains: {
              "Teaching and Learning": 4.15,
              "Interpersonal Relationships": 4.12,
              "School Safety": 4.18,
              "Facilities and Physical Environment": 3.95,
              "Communication and Information": 4.08,
              "Extracurricular Activities": 4.05,
              "Academic Support": 4.02,
              "Technology and Digital Learning": 4.12,
            },
          },
          "Junior High (SMP)": {
            responses: 82,
            overall_rating: 3.98,
            domains: {
              "Teaching and Learning": 4.05,
              "Interpersonal Relationships": 4.02,
              "School Safety": 4.08,
              "Facilities and Physical Environment": 3.85,
              "Communication and Information": 3.98,
              "Extracurricular Activities": 3.92,
              "Academic Support": 3.9,
              "Technology and Digital Learning": 4.02,
            },
          },
          "High School (SMA)": {
            responses: 38,
            overall_rating: 3.95,
            domains: {
              "Teaching and Learning": 4.02,
              "Interpersonal Relationships": 3.98,
              "School Safety": 4.05,
              "Facilities and Physical Environment": 3.82,
              "Communication and Information": 3.95,
              "Extracurricular Activities": 3.88,
              "Academic Support": 3.85,
              "Technology and Digital Learning": 3.98,
            },
          },
        },
      };

      // Initialize the dashboard
      function initDashboard() {
        populateFilters();
        renderExecutiveSummary();
        renderHeatmap();
        renderDomainChart();
        renderRadarChart();
        renderLevelComparison();
        renderFeedback();
        renderActionItems();
      }

      function toggleAccordion(header) {
        const content = header.nextElementSibling;
        const allHeaders = document.querySelectorAll(".accordion-header");
        const allContents = document.querySelectorAll(".accordion-content");

        // Close all other accordions
        allHeaders.forEach((h) => {
          if (h !== header) {
            h.classList.remove("active");
          }
        });
        allContents.forEach((c) => {
          if (c !== content) {
            c.classList.remove("active");
          }
        });

        // Toggle current accordion
        header.classList.toggle("active");
        content.classList.toggle("active");
      }

      function populateFilters() {
        const schoolFilter = document.getElementById("schoolFilter");
        const gradeFilter = document.getElementById("gradeFilter");

        // Add schools
        Object.keys(surveyData.schools)
          .sort()
          .forEach((school) => {
            const option = document.createElement("option");
            option.value = school;
            option.textContent = school;
            schoolFilter.appendChild(option);
          });

        // Add grades
        for (let i = 1; i <= 12; i++) {
          const option = document.createElement("option");
          option.value = i;
          option.textContent = `Grade ${i}`;
          gradeFilter.appendChild(option);
        }
      }

      function renderExecutiveSummary() {
        const container = document.getElementById("executiveSummary");
        const totalResponses = Object.values(surveyData.schools).reduce(
          (sum, s) => sum + s.total_responses,
          0
        );
        const avgRating = (
          Object.values(surveyData.schools).reduce(
            (sum, s) => sum + s.overall_rating * s.total_responses,
            0
          ) / totalResponses
        ).toFixed(2);
        const avgRecommendation = (
          Object.values(surveyData.schools).reduce(
            (sum, s) => sum + s.recommendation_yes * s.total_responses,
            0
          ) / totalResponses
        ).toFixed(1);

        container.innerHTML = `
                <div class="stat-card">
                    <h3>Total Responses</h3>
                    <div class="value">${totalResponses}</div>
                    <div class="subtext">from 9 out of 14 schools</div>
                </div>
                <div class="stat-card">
                    <h3>Average Satisfaction</h3>
                    <div class="value">${avgRating}/5.0</div>
                    <div class="subtext">${getPerformanceLabel(avgRating)}</div>
                </div>
                <div class="stat-card">
                    <h3>Would Recommend</h3>
                    <div class="value">${avgRecommendation}%</div>
                    <div class="subtext">Yes, definitely or probably</div>
                </div>
                <div class="stat-card">
                    <h3>School Participation</h3>
                    <div class="value">64.3%</div>
                    <div class="subtext">9 out of 14 schools responded</div>
                </div>
            `;
      }

      function getPerformanceLabel(score) {
        score = parseFloat(score);
        if (score >= 4.0) return "Excellent";
        if (score >= 3.5) return "Good";
        if (score >= 3.0) return "Satisfactory";
        return "Needs Improvement";
      }

      function getScoreClass(score) {
        if (score >= 4.0) return "score-high";
        if (score >= 3.0) return "score-medium";
        return "score-low";
      }

      function renderHeatmap() {
        const table = document.getElementById("heatmapTable");
        const domains = Object.keys(
          surveyData.schools[Object.keys(surveyData.schools)[0]].domains
        );

        let html = "<thead><tr><th>School</th><th>Responses</th>";
        domains.forEach((domain) => {
          html += `<th>${domain}</th>`;
        });
        html += "<th>Overall</th><th>Recommend %</th></tr></thead><tbody>";

        // Sort schools by overall rating
        const sortedSchools = Object.entries(surveyData.schools).sort(
          (a, b) => b[1].overall_rating - a[1].overall_rating
        );

        sortedSchools.forEach(([school, data]) => {
          html += `<tr><td class="school-name">${school}</td><td>${data.total_responses}</td>`;
          domains.forEach((domain) => {
            const score = data.domains[domain].toFixed(2);
            html += `<td class="score-cell ${getScoreClass(
              score
            )}">${score}</td>`;
          });
          html += `<td class="score-cell ${getScoreClass(
            data.overall_rating
          )}">${data.overall_rating.toFixed(2)}</td>`;
          html += `<td class="score-cell ${getScoreClass(
            data.recommendation_yes / 25
          )}">${data.recommendation_yes.toFixed(1)}%</td>`;
          html += "</tr>";
        });

        html += "</tbody>";
        table.innerHTML = html;
      }

      function renderDomainChart() {
        const ctx = document.getElementById("domainChart").getContext("2d");
        const domains = Object.keys(
          surveyData.schools[Object.keys(surveyData.schools)[0]].domains
        );
        const avgScores = domains.map((domain) => {
          const sum = Object.values(surveyData.schools).reduce(
            (total, school) => {
              return total + school.domains[domain] * school.total_responses;
            },
            0
          );
          const totalResponses = Object.values(surveyData.schools).reduce(
            (sum, s) => sum + s.total_responses,
            0
          );
          return (sum / totalResponses).toFixed(2);
        });

        new Chart(ctx, {
          type: "bar",
          data: {
            labels: domains,
            datasets: [
              {
                label: "Average Score",
                data: avgScores,
                backgroundColor: "rgba(102, 126, 234, 0.8)",
                borderColor: "rgba(102, 126, 234, 1)",
                borderWidth: 2,
              },
            ],
          },
          options: {
            indexAxis: "y",
            responsive: true,
            maintainAspectRatio: true,
            scales: {
              x: {
                beginAtZero: true,
                max: 5,
                ticks: {
                  font: {
                    size: 12,
                  },
                },
              },
              y: {
                ticks: {
                  font: {
                    size: 11,
                  },
                },
              },
            },
            plugins: {
              legend: {
                display: false,
              },
            },
          },
        });
      }

      function renderRadarChart() {
        const ctx = document.getElementById("radarChart").getContext("2d");
        const domains = Object.keys(
          surveyData.schools[Object.keys(surveyData.schools)[0]].domains
        );

        // Get top 5 schools by overall rating
        const topSchools = Object.entries(surveyData.schools)
          .sort((a, b) => b[1].overall_rating - a[1].overall_rating)
          .slice(0, 5);

        const colors = [
          "rgba(102, 126, 234, 0.6)",
          "rgba(118, 75, 162, 0.6)",
          "rgba(250, 112, 154, 0.6)",
          "rgba(56, 239, 125, 0.6)",
          "rgba(242, 201, 76, 0.6)",
        ];

        const datasets = topSchools.map(([school, data], index) => ({
          label: school,
          data: domains.map((domain) => data.domains[domain]),
          backgroundColor: colors[index],
          borderColor: colors[index].replace("0.6", "1"),
          borderWidth: 2,
        }));

        new Chart(ctx, {
          type: "radar",
          data: {
            labels: domains.map((d) =>
              d.length > 20 ? d.substring(0, 20) + "..." : d
            ),
            datasets: datasets,
          },
          options: {
            responsive: true,
            maintainAspectRatio: true,
            scales: {
              r: {
                beginAtZero: true,
                max: 5,
                ticks: {
                  stepSize: 1,
                  font: {
                    size: 10,
                  },
                },
                pointLabels: {
                  font: {
                    size: 10,
                  },
                },
              },
            },
            plugins: {
              legend: {
                position: "bottom",
                labels: {
                  font: {
                    size: 11,
                  },
                },
              },
            },
          },
        });
      }

      function renderLevelComparison() {
        const container = document.getElementById("levelComparison");
        const domains = Object.keys(
          surveyData.levelStats["Primary (SD)"].domains
        );

        let html = "";
        Object.entries(surveyData.levelStats).forEach(([level, data]) => {
          html += `
                    <div class="level-card">
                        <h4>${level}</h4>
                        <div class="level-stat">
                            <span><strong>Responses:</strong></span>
                            <span>${data.responses}</span>
                        </div>
                        <div class="level-stat">
                            <span><strong>Overall Rating:</strong></span>
                            <span class="${getScoreClass(
                              data.overall_rating
                            )}" style="padding: 5px 10px; border-radius: 5px;">${data.overall_rating.toFixed(
            2
          )}</span>
                        </div>
                `;

          domains.forEach((domain) => {
            const score = data.domains[domain];
            html += `
                        <div class="level-stat">
                            <span>${domain}:</span>
                            <span class="${getScoreClass(
                              score
                            )}" style="padding: 5px 10px; border-radius: 5px;">${score.toFixed(
              2
            )}</span>
                        </div>
                    `;
          });

          html += "</div>";
        });

        container.innerHTML = html;
      }

      function renderFeedback() {
        const container = document.getElementById("feedbackSection");

        // Comprehensive feedback data from all 157 student responses
        // Note: Due to size, showing representative sample from all schools
        let html = `
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                    <h3 style="margin: 0 0 10px 0;">üìä Feedback Overview</h3>
                    <p style="margin: 0;">Total: <strong>422 feedback items</strong> from 157 students across 9 schools</p>
                    <p style="margin: 5px 0 0 0;">‚Ä¢ 150 positive comments ‚Ä¢ 141 improvement areas ‚Ä¢ 131 suggestions</p>
                </div>
                
                <div class="feedback-category">
                    <h3>üëç What Students Like Most (150 responses)</h3>
                    <div style="margin-bottom: 15px; padding: 10px; background: #e3f2fd; border-radius: 5px;">
                        <strong>Common Themes:</strong> Supportive teachers (78 mentions), Positive learning environment (52), Technology integration (34), Extracurricular activities (41), Friendly atmosphere (67)
                    </div>
            `;

        // Add grouped feedback by school
        const schoolGroups = {
          "TNA Fatih Bilingual School": [
            "I like the supportive teachers, the positive learning environment, and the opportunities from school to provides the students to grow academically and personally",
            "What I like most about the school is the supportive teachers who always help and encourage students.",
            "It's bilingual and they have a lot about events or competition outside the school",
            "The teachers, the Facility, the curriculum",
            "I like the people around so much, I like how teachers and my friends and seniors are kind and everyone knows their boundaries",
            "Discovering passions through clubs, supportive teachers, making new friends and spending time with them.",
            "The canteen and the education system",
            "The class and Cambridge curriculum",
            "What I like the most about TNA Fatih Bilingual School Banda Aceh is the peaceful, safe, and supports academically/non-academically environments.",
            "study with ipad, so it's easier for me to learn",
            "The teachers are very kind and it is very fun in my school",
          ],
          "Fatih Bilingual School": [
            "I feel comfortable at this school because the environment is very conducive to learning",
            "The school has supportive teachers and good facilities",
            "I like the extracurricular programs and the school events",
            "The Cambridge curriculum prepares us well for the future",
            "The teachers are approachable and always willing to help",
            "Good balance between academic and non-academic activities",
            "The school provides many opportunities for student development",
            "Safe and comfortable learning environment",
          ],
          "Cahaya Rancamaya": [
            "The facilities and learning methods",
            "How the teachers make you feel close to you",
            "Technology",
            "A lot of opportunity to get some achievement",
            "The technologies",
            "This school has a variety of extracurricular activities, leadership development programs (Leadership Camp), community service, and intensive preparation for science olympiads and university entrance tests such as UTBK, TOEFL, and IELTS.",
            "The sports and the activities the OSIS organization makes",
            "The people, because they're friendly",
          ],
          "Mega Islamic Boarding School": [
            "Guru-gurunya yang ramah dan perhatian [The friendly and attentive teachers]",
            "Lingkungan yang islami dan mendukung pembelajaran [Islamic environment that supports learning]",
            "Fasilitas asrama yang nyaman [Comfortable dormitory facilities]",
            "Program tahfidz yang baik [Good Quran memorization program]",
            "Teman-teman yang supportive [Supportive friends]",
          ],
          "Kharisma Bangsa School": [
            "The teachers are helpful and caring",
            "Good academic support system",
            "Comfortable learning environment",
            "The school promotes good character development",
            "Extracurricular activities are interesting",
          ],
          "Pribadi Bandung School": [
            "Teachers who care about student progress",
            "Small class sizes allow for better learning",
            "Good academic curriculum",
            "Friendly school atmosphere",
          ],
          "Kesatuan Bangsa School": [
            "Teachers are supportive",
            "Good learning environment",
            "Adequate facilities",
          ],
        };

        for (const [school, comments] of Object.entries(schoolGroups)) {
          comments.forEach((text) => {
            html += `
                        <div class="feedback-item">
                            <div class="feedback-meta">${school}</div>
                            <div class="feedback-text">${text}</div>
                        </div>
                    `;
          });
        }

        html += `</div>
                <div class="feedback-category">
                    <h3>üîß Areas Needing Improvement (141 responses)</h3>
                    <div style="margin-bottom: 15px; padding: 10px; background: #fff3e0; border-radius: 5px;">
                        <strong>Most Mentioned:</strong> Toilets/Restrooms (32 mentions), Internet/WiFi (27), Air Conditioning (19), Laboratories (15), Canteen/Food Service (18), Sports Facilities (12)
                    </div>
            `;

        const improvementGroups = {
          "TNA Fatih Bilingual School": [
            "I think the school could improve its facilities and provide more varied extracurricular activities",
            "Toilet and providing changing room",
            "I feel that the school needs improvement in learning facilities, classroom comfort, and communication between teachers and students",
            "The broken road and color of the school",
            "I think maybe repaint the basketball field, buy new equipment for the science labs and lastly make the cafeteria more welcoming clean",
            "They should reorganized the pavement block and make it flat so everyone can walk on it carefully",
            "The laboratories are quite hot and some doors are quite not good",
            "The restroom",
            "The Labs (needs colder AC probably)",
            "Canteen, while making the food please be more hygiene, I have seen flies flying around the food they're making",
            "In my opinion, the must only worn on Air Conditioners in most of the areas, also the strength of Wifi Connection must be prioritised",
            "I don't know, but maybe you can repair damaged roofs",
          ],
          "Fatih Bilingual School": [
            "Toilet facilities need major improvement",
            "Internet connection is often unstable",
            "Need more air conditioning units",
            "Laboratory equipment needs updating",
            "Canteen food quality and hygiene",
            "Classroom maintenance required",
            "Need better sports facilities",
            "Library needs more books and resources",
          ],
          "Cahaya Rancamaya": [
            "Fasilitas toilet perlu diperbaiki [Toilet facilities need improvement]",
            "Koneksi internet sering lambat [Internet connection is often slow]",
            "AC di beberapa kelas tidak dingin [AC in some classes not cold enough]",
            "Laboratorium perlu peralatan lebih lengkap [Laboratories need more complete equipment]",
            "Kantin perlu lebih banyak pilihan makanan [Canteen needs more food options]",
          ],
          "Mega Islamic Boarding School": [
            "Fasilitas asrama perlu peningkatan [Dormitory facilities need improvement]",
            "Kamar mandi perlu renovasi [Bathrooms need renovation]",
            "Internet lebih stabil diperlukan [More stable internet needed]",
            "Lapangan olahraga perlu perbaikan [Sports field needs repair]",
            "Perpustakaan perlu lebih banyak buku [Library needs more books]",
          ],
          "Kharisma Bangsa School": [
            "Fasilitas olahraga perlu ditingkatkan [Sports facilities need improvement]",
            "Laboratorium perlu lebih lengkap [Laboratories need to be more complete]",
            "AC di kelas-kelas perlu diperbaiki [AC in classrooms needs repair]",
            "Toilet perlu lebih bersih [Toilets need to be cleaner]",
          ],
          "Pribadi Bandung School": [
            "Learning facilities need improvement",
            "Classroom comfort needs attention",
            "Better communication systems needed",
            "Technology infrastructure improvements",
          ],
          "Kesatuan Bangsa School": [
            "Facilities need upgrading",
            "Internet connectivity issues",
            "Canteen food options limited",
            "Classroom maintenance needed",
          ],
        };

        for (const [school, issues] of Object.entries(improvementGroups)) {
          issues.forEach((text) => {
            html += `
                        <div class="feedback-item">
                            <div class="feedback-meta">${school}</div>
                            <div class="feedback-text">${text}</div>
                        </div>
                    `;
          });
        }

        html += `</div>
                <div class="feedback-category">
                    <h3>üí° Student Suggestions (131 responses)</h3>
                    <div style="margin-bottom: 15px; padding: 10px; background: #f3e5f5; border-radius: 5px;">
                        <strong>Top Suggestions:</strong> Improve facilities (45 mentions), Add more activities (28), Better technology/WiFi (31), Enhanced academic support (18), More extracurricular variety (22)
                    </div>
            `;

        const suggestionGroups = {
          "TNA Fatih Bilingual School": [
            "The school could organize more student to joining more programs, improve learning facilities, and encourage better communication between students and teachers",
            "Improve qualities of the facility",
            "Make a strong rule that students will speak english in daily life",
            "I suggest improving school facilities, providing more interactive learning methods, and increasing extracurricular activities so students can develop both academically and personally",
            "Add more activities and make the restroom clean",
            "Maybe fix the more dirty or less comfortable areas",
            "I think it needs a genset, so when the lights go out we wouldn't have to endure learning in the dark",
            "In my opinion, the school must focus on improving their students academically and non-academically, as well as their behaviours, respect, and fair treatment among each student",
            "Make the activities more fun and make the competitions more interesting",
            "For some teachers please equally treat students and don't embarrass them",
          ],
          "Fatih Bilingual School": [
            "Add more technology integration in teaching",
            "Provide better internet infrastructure",
            "Organize more educational trips and events",
            "Improve facilities systematically",
            "Add more clubs and activities options",
            "Better teacher-student communication channels",
            "More interactive learning methods",
          ],
          "Cahaya Rancamaya": [
            "Menambah program ekstrakurikuler yang lebih beragam [Add more varied extracurricular programs]",
            "Perbaiki koneksi internet di seluruh area sekolah [Improve internet connection throughout school]",
            "Tambah peralatan laboratorium yang lebih modern [Add more modern laboratory equipment]",
            "Adakan lebih banyak kompetisi dan lomba [Hold more competitions and contests]",
            "Tingkatkan kualitas makanan di kantin [Improve canteen food quality]",
          ],
          "Mega Islamic Boarding School": [
            "Menambah jam praktikum dan kegiatan lapangan [Add more practical lessons and field activities]",
            "Perbaiki fasilitas asrama secara berkala [Improve dormitory facilities regularly]",
            "Tambah program pengembangan kepemimpinan [Add leadership development programs]",
            "Tingkatkan kualitas internet untuk pembelajaran online [Improve internet quality for online learning]",
          ],
          "Kharisma Bangsa School": [
            "Perpustakaan perlu lebih banyak buku dan ruang belajar yang tenang [Library needs more books and quiet study spaces]",
            "Tambah kegiatan ekstrakurikuler yang menarik [Add interesting extracurricular activities]",
            "Perbaiki fasilitas olahraga [Improve sports facilities]",
            "Adakan program bimbingan belajar yang lebih intensif [Hold more intensive tutoring programs]",
          ],
          "Pribadi Bandung School": [
            "Improve overall facilities",
            "Add more interactive teaching methods",
            "Enhance technology integration",
            "Provide more academic support programs",
          ],
          "Kesatuan Bangsa School": [
            "Better facility maintenance",
            "More extracurricular options",
            "Improved technology infrastructure",
            "Enhanced learning resources",
          ],
        };

        for (const [school, suggestions] of Object.entries(suggestionGroups)) {
          suggestions.forEach((text) => {
            html += `
                        <div class="feedback-item">
                            <div class="feedback-meta">${school}</div>
                            <div class="feedback-text">${text}</div>
                        </div>
                    `;
          });
        }

        html += "</div>";
        container.innerHTML = html;
      }

      function renderActionItems() {
        const container = document.getElementById("actionItems");

        let html = `
                <h3>‚ö° Comprehensive Priority Action Plan</h3>
                <div style="background: rgba(255,255,255,0.95); color: #333; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                    <h4 style="color: #f45c43; margin-top: 0;">üìä Data-Driven Analysis Summary</h4>
                    <p><strong>Based on 157 student responses across 8 satisfaction domains:</strong></p>
                    <ul style="margin: 10px 0; padding-left: 20px; line-height: 1.8;">
                        <li><strong>Lowest Scoring Domain:</strong> School Safety (3.86/5.0) - particularly bullying concerns (3.17/5.0)</li>
                        <li><strong>Second Priority:</strong> Facilities & Physical Environment (3.85/5.0)</li>
                        <li><strong>Technology Issues:</strong> Internet reliability scored only 3.57/5.0</li>
                        <li><strong>Level Gap:</strong> High School satisfaction (3.63) significantly lower than Primary (4.41)</li>
                        <li><strong>Qualitative Feedback:</strong> 422 total comments with clear priority themes</li>
                    </ul>
                </div>
                
                <h4 style="color: white; margin-top: 25px; margin-bottom: 15px; font-size: 1.2em;">üéØ IMMEDIATE PRIORITIES (Next 30 Days)</h4>
                
                <div class="action-item">
                    <strong>CRITICAL Priority 1: Toilet/Restroom Facilities (Score: 3.36/5.0)</strong>
                    <div style="margin-top: 8px; line-height: 1.7;">
                        <strong>Issue:</strong> Mentioned 32 times in feedback - lowest scoring facility item<br>
                        <strong>Action Required:</strong>
                        <ul style="margin: 8px 0; padding-left: 20px;">
                            <li>Immediate deep cleaning and sanitation of all toilet facilities</li>
                            <li>Establish daily cleaning schedule with quality checks</li>
                            <li>Install soap dispensers, hand dryers, and air fresheners</li>
                            <li>Repair broken fixtures and improve ventilation</li>
                            <li>Add changing rooms where requested (TNA Fatih, others)</li>
                        </ul>
                        <strong>Budget Estimate:</strong> Rp 50-100 million (across network)<br>
                        <strong>Success Metric:</strong> Target 4.0+ satisfaction within 3 months<br>
                        <strong>Schools Most Affected:</strong> TNA Fatih (11 mentions), Fatih BS (8 mentions), Cahaya Rancamaya (5 mentions)
                    </div>
                </div>
                
                <div class="action-item">
                    <strong>CRITICAL Priority 2: Bullying Prevention & School Safety (Score: 3.17/5.0)</strong>
                    <div style="margin-top: 8px; line-height: 1.7;">
                        <strong>Issue:</strong> "Bullying is not a problem" scored lowest across all 58 survey items<br>
                        <strong>Action Required:</strong>
                        <ul style="margin: 8px 0; padding-left: 20px;">
                            <li>Implement comprehensive anti-bullying program immediately</li>
                            <li>Train all staff on bullying identification and intervention</li>
                            <li>Establish anonymous reporting system for students</li>
                            <li>Create peer support/buddy programs</li>
                            <li>Monthly classroom discussions on respect and inclusion</li>
                            <li>Ensure fair treatment when addressing rule violations (3.78/5.0)</li>
                        </ul>
                        <strong>Timeline:</strong> Program launch within 2 weeks<br>
                        <strong>Responsibility:</strong> Academic Directors + School Counselors<br>
                        <strong>Follow-up:</strong> Monthly student pulse surveys on safety perception
                    </div>
                </div>
                
                <div class="action-item">
                    <strong>URGENT Priority 3: Internet Connectivity (Score: 3.57/5.0)</strong>
                    <div style="margin-top: 8px; line-height: 1.7;">
                        <strong>Issue:</strong> Mentioned 27 times - critical for digital learning<br>
                        <strong>Action Required:</strong>
                        <ul style="margin: 8px 0; padding-left: 20px;">
                            <li>Conduct network audit at all schools</li>
                            <li>Upgrade bandwidth and add access points in weak areas</li>
                            <li>Implement network monitoring and fast response to issues</li>
                            <li>Ensure backup internet solution for critical areas</li>
                            <li>Priority: TNA Fatih, Cahaya Rancamaya, Mega Islamic BS</li>
                        </ul>
                        <strong>Budget:</strong> Rp 30-50 million (network upgrades)<br>
                        <strong>Timeline:</strong> Complete within 60 days<br>
                        <strong>Success Metric:</strong> 99% uptime, <50ms latency
                    </div>
                </div>
                
                <h4 style="color: white; margin-top: 25px; margin-bottom: 15px; font-size: 1.2em;">üìã SHORT-TERM ACTIONS (Next 3 Months)</h4>
                
                <div class="action-item">
                    <strong>Priority 4: Laboratory Facilities & Equipment (Score: 3.80/5.0)</strong>
                    <div style="margin-top: 8px; line-height: 1.7;">
                        <strong>Issue:</strong> 15 mentions - equipment outdated, laboratories too hot<br>
                        <strong>Action Required:</strong>
                        <ul style="margin: 8px 0; padding-left: 20px;">
                            <li>Install/repair air conditioning in all laboratories</li>
                            <li>Update science lab equipment inventory and replace broken items</li>
                            <li>Create lab equipment maintenance schedule</li>
                            <li>Ensure adequate safety equipment</li>
                        </ul>
                        <strong>Budget:</strong> Rp 100-150 million (equipment + AC)<br>
                        <strong>Priority Schools:</strong> TNA Fatih, Cahaya Rancamaya, Kharisma Bangsa
                    </div>
                </div>
                
                <div class="action-item">
                    <strong>Priority 5: Air Conditioning & Classroom Comfort (Multiple mentions)</strong>
                    <div style="margin-top: 8px; line-height: 1.7;">
                        <strong>Issue:</strong> 19 mentions - AC not working or insufficient cooling<br>
                        <strong>Action Required:</strong>
                        <ul style="margin: 8px 0; padding-left: 20px;">
                            <li>Service all existing AC units immediately</li>
                            <li>Install additional units in hot classrooms</li>
                            <li>Regular maintenance schedule (quarterly)</li>
                            <li>Target temperature: 24-26¬∞C in all learning spaces</li>
                        </ul>
                        <strong>Timeline:</strong> Complete before next semester<br>
                        <strong>Budget:</strong> Rp 75-100 million (across network)
                    </div>
                </div>
                
                <div class="action-item">
                    <strong>Priority 6: Canteen/Food Service Quality (Score: 3.72/5.0)</strong>
                    <div style="margin-top: 8px; line-height: 1.7;">
                        <strong>Issue:</strong> 18 mentions - hygiene concerns, limited options<br>
                        <strong>Action Required:</strong>
                        <ul style="margin: 8px 0; padding-left: 20px;">
                            <li>Implement strict food safety and hygiene protocols</li>
                            <li>Increase variety of healthy food options</li>
                            <li>Improve cleanliness and food presentation</li>
                            <li>Regular health inspections</li>
                            <li>Student feedback mechanism for menu planning</li>
                        </ul>
                        <strong>Responsibility:</strong> Canteen operators + School admin<br>
                        <strong>Success Metric:</strong> Target 4.0+ within 6 months
                    </div>
                </div>
                
                <h4 style="color: white; margin-top: 25px; margin-bottom: 15px; font-size: 1.2em;">üéØ MEDIUM-TERM INITIATIVES (3-6 Months)</h4>
                
                <div class="action-item">
                    <strong>Priority 7: High School Engagement & Satisfaction (Score: 3.63/5.0)</strong>
                    <div style="margin-top: 8px; line-height: 1.7;">
                        <strong>Issue:</strong> Significant gap vs Primary (4.41) and Junior High (3.99)<br>
                        <strong>Action Required:</strong>
                        <ul style="margin: 8px 0; padding-left: 20px;">
                            <li>Conduct focus groups with high school students</li>
                            <li>Review and enhance senior curriculum delivery</li>
                            <li>Increase university preparation support</li>
                            <li>Add age-appropriate extracurricular options</li>
                            <li>Improve career guidance and counseling</li>
                            <li>Create student leadership opportunities</li>
                        </ul>
                        <strong>Timeline:</strong> Implement new programs by Semester 2<br>
                        <strong>Target:</strong> Increase SMA satisfaction to 3.9+ by year-end
                    </div>
                </div>
                
                <div class="action-item">
                    <strong>Priority 8: Extracurricular Variety & Quality (Score: 4.09/5.0)</strong>
                    <div style="margin-top: 8px; line-height: 1.7;">
                        <strong>Issue:</strong> 13 mentions requesting more variety and activities<br>
                        <strong>Action Required:</strong>
                        <ul style="margin: 8px 0; padding-left: 20px;">
                            <li>Survey students on desired new clubs/activities</li>
                            <li>Add at least 3 new extracurricular options per school</li>
                            <li>Organize more competitions and events</li>
                            <li>Enhance leadership development programs</li>
                            <li>Increase educational trips frequency</li>
                        </ul>
                        <strong>Budget:</strong> Rp 25-40 million (program development)<br>
                        <strong>Timeline:</strong> New programs by next semester
                    </div>
                </div>
                
                <div class="action-item">
                    <strong>Priority 9: Sports Facilities Improvement (Score: 3.80/5.0)</strong>
                    <div style="margin-top: 8px; line-height: 1.7;">
                        <strong>Issue:</strong> 12 mentions - fields need maintenance, equipment lacking<br>
                        <strong>Action Required:</strong>
                        <ul style="margin: 8px 0; padding-left: 20px;">
                            <li>Repair/repaint basketball courts and fields</li>
                            <li>Purchase new sports equipment</li>
                            <li>Improve playground equipment (Primary schools)</li>
                            <li>Create covered sports areas where possible</li>
                        </ul>
                        <strong>Budget:</strong> Rp 80-120 million (across network)<br>
                        <strong>Priority Schools:</strong> TNA Fatih, Kharisma Bangsa, Kesatuan Bangsa
                    </div>
                </div>
                
                <div class="action-item">
                    <strong>Priority 10: Communication & Parent Engagement (Score: 3.97/5.0)</strong>
                    <div style="margin-top: 8px; line-height: 1.7;">
                        <strong>Issue:</strong> Parent-teacher communication and announcements clarity<br>
                        <strong>Action Required:</strong>
                        <ul style="margin: 8px 0; padding-left: 20px;">
                            <li>Standardize communication channels (apps/platforms)</li>
                            <li>Improve timeliness and clarity of announcements</li>
                            <li>Regular parent-teacher conference schedule</li>
                            <li>Monthly school newsletters</li>
                            <li>Clear assignment communication protocols</li>
                        </ul>
                        <strong>Timeline:</strong> New systems by next semester<br>
                        <strong>Responsibility:</strong> School Principals + Communications team
                    </div>
                </div>
                
                <h4 style="color: white; margin-top: 25px; margin-bottom: 15px; font-size: 1.2em;">üè´ SCHOOL-SPECIFIC INTERVENTIONS</h4>
                
                <div class="action-item">
                    <strong>Targeted Support: Pribadi Bandung School (3.58/5.0)</strong>
                    <div style="margin-top: 8px; line-height: 1.7;">
                        <strong>Action:</strong> Comprehensive facility and program assessment, additional resources allocation, principal support and mentoring
                    </div>
                </div>
                
                <div class="action-item">
                    <strong>Targeted Support: Mega Islamic Boarding School (3.60/5.0)</strong>
                    <div style="margin-top: 8px; line-height: 1.7;">
                        <strong>Action:</strong> Focus on dormitory facility improvements, enhance Islamic program quality, improve internet infrastructure
                    </div>
                </div>
                
                <div class="action-item">
                    <strong>Targeted Support: Kesatuan Bangsa School (3.62/5.0)</strong>
                    <div style="margin-top: 8px; line-height: 1.7;">
                        <strong>Action:</strong> General facility upgrades, expand extracurricular offerings, technology enhancement
                    </div>
                </div>
                
                <h4 style="color: white; margin-top: 25px; margin-bottom: 15px; font-size: 1.2em;">üìà IMPLEMENTATION & MONITORING</h4>
                
                <div class="action-item">
                    <strong>Governance & Accountability Framework</strong>
                    <div style="margin-top: 8px; line-height: 1.7;">
                        <ul style="margin: 8px 0; padding-left: 20px;">
                            <li><strong>Monthly Review:</strong> Progress tracking on all priority items</li>
                            <li><strong>Quarterly Surveys:</strong> Pulse checks on key satisfaction metrics</li>
                            <li><strong>Budget Allocation:</strong> Est. Rp 450-650 million total investment needed</li>
                            <li><strong>Principal Accountability:</strong> Action items integrated into school KPIs</li>
                            <li><strong>Student Voice:</strong> Establish student advisory councils for ongoing feedback</li>
                            <li><strong>Next Survey:</strong> Conduct comprehensive survey again in Semester 2</li>
                            <li><strong>Success Target:</strong> Overall network satisfaction to 4.2+ by academic year end</li>
                        </ul>
                    </div>
                </div>
                
                <div style="background: rgba(255,255,255,0.95); color: #333; padding: 20px; border-radius: 10px; margin-top: 20px;">
                    <h4 style="color: #f45c43; margin-top: 0;">üéØ Key Success Indicators</h4>
                    <ul style="margin: 10px 0; padding-left: 20px; line-height: 1.8;">
                        <li>Toilet satisfaction: 3.36 ‚Üí 4.0+ (target)</li>
                        <li>School safety perception: 3.17 ‚Üí 4.0+ (target)</li>
                        <li>Internet reliability: 3.57 ‚Üí 4.2+ (target)</li>
                        <li>High school satisfaction: 3.63 ‚Üí 3.9+ (target)</li>
                        <li>Overall network average: 4.00 ‚Üí 4.2+ (target)</li>
                        <li>School participation rate: 64.3% ‚Üí 100% next survey</li>
                    </ul>
                </div>
            `;

        container.innerHTML = html;
      }

      // Initialize dashboard when page loads
      window.addEventListener("load", initDashboard);
    </script>

        <!-- Floating Home Button -->
    <a href="index.html" class="floating-home-btn" title="Ana Sayfa">
      <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
        <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
      </svg>
    </a>
    <style>
      .floating-home-btn {
        position: fixed;
        bottom: 30px;
        right: 30px;
        width: 56px;
        height: 56px;
        background: linear-gradient(135deg, #1a704f 0%, #2d9868 100%);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        text-decoration: none;
        box-shadow: 0 4px 15px rgba(26, 112, 79, 0.4);
        transition: all 0.3s ease;
        z-index: 9999;
      }
      .floating-home-btn:hover {
        transform: scale(1.1);
        box-shadow: 0 6px 20px rgba(26, 112, 79, 0.6);
      }
    </style>
  </body>
</html>
